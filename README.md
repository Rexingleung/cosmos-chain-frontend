# Cosmos é“¾å‰ç«¯äº¤äº’ç•Œé¢

åŸºäº React + TypeScript + Zustand + Vite çš„ Cosmos é“¾å‰ç«¯äº¤äº’ç•Œé¢ï¼Œæ”¯æŒé’±åŒ…ç®¡ç†ã€ä½™é¢æŸ¥è¯¢ã€è½¬è´¦ã€æ°´é¾™å¤´ç­‰åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”— **é“¾ä¿¡æ¯æŸ¥çœ‹**ï¼šå®æ—¶æŸ¥çœ‹é“¾é«˜åº¦å’ŒåŒºå—ä¿¡æ¯
- ğŸ‘› **é’±åŒ…ç®¡ç†**ï¼šåˆ›å»ºé’±åŒ…ã€å¯¼å…¥é’±åŒ…ï¼ˆæ”¯æŒåŠ©è®°è¯ï¼‰
- ğŸ’§ **æ°´é¾™å¤´åŠŸèƒ½**ï¼šè‡ªåŠ¨è·å–æµ‹è¯•ä»£å¸ï¼Œæ”¯æŒå¤šç§ä»£å¸ç±»å‹
- ğŸ’° **ä½™é¢æŸ¥è¯¢**ï¼šæŸ¥çœ‹è´¦æˆ·ä½™é¢å’Œäº¤æ˜“å†å²
- ğŸ’¸ **è½¬è´¦åŠŸèƒ½**ï¼šæ”¯æŒå‘å…¶ä»–åœ°å€è½¬è´¦
- ğŸ” **æ•°æ®æŸ¥è¯¢**ï¼šæŸ¥çœ‹åŒºå—ä¿¡æ¯ã€äº¤æ˜“è¯¦æƒ…ç­‰é“¾ä¸Šæ•°æ®

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šReact 18
- **ç±»å‹ç³»ç»Ÿ**ï¼šTypeScript
- **çŠ¶æ€ç®¡ç†**ï¼šZustand
- **æ„å»ºå·¥å…·**ï¼šVite
- **Cosmosé›†æˆ**ï¼šCosmJS
- **UIæ ·å¼**ï¼šCSS Modules

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 16.0.0
- pnpm æˆ– npm
- æœ¬åœ°è¿è¡Œçš„ Cosmos é“¾ï¼ˆä½¿ç”¨ Ignite å¯åŠ¨ï¼‰

### æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®

ç¡®ä¿ä½ çš„æœ¬åœ° Cosmos é“¾æ­£åœ¨è¿è¡Œï¼š

```bash
ignite chain serve
```

é“¾åº”è¯¥åœ¨ä»¥ä¸‹ç«¯ç‚¹å¯ç”¨ï¼š
- Tendermint RPC: http://localhost:26657
- REST API: http://localhost:1317
- Token Faucet: http://localhost:4500 ï¼ˆæ°´é¾™å¤´ç«¯ç‚¹ï¼‰

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Rexingleung/cosmos-chain-frontend.git
cd cosmos-chain-frontend

# æ¸…ç†ç¼“å­˜ï¼ˆå¦‚æœä¹‹å‰å®‰è£…è¿‡ï¼‰
rm -rf node_modules package-lock.json yarn.lock

# ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
# æˆ–
npm run dev
```

åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
# æˆ–
npm run build
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”œâ”€â”€ ChainInfo/      # é“¾ä¿¡æ¯ç»„ä»¶
â”‚   â”œâ”€â”€ WalletManager/  # é’±åŒ…ç®¡ç†ç»„ä»¶
â”‚   â”œâ”€â”€ Faucet/         # æ°´é¾™å¤´ç»„ä»¶
â”‚   â”œâ”€â”€ Transfer/       # è½¬è´¦ç»„ä»¶
â”‚   â””â”€â”€ DataQuery/      # æ•°æ®æŸ¥è¯¢ç»„ä»¶
â”œâ”€â”€ stores/             # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ chainStore.ts   # é“¾çŠ¶æ€
â”‚   â””â”€â”€ walletStore.ts  # é’±åŒ…çŠ¶æ€
â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â””â”€â”€ cosmosService.ts # Cosmosé“¾äº¤äº’æœåŠ¡
â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç½‘ç»œé…ç½®

é¡¹ç›®é»˜è®¤è¿æ¥åˆ°æœ¬åœ° Ignite å¯åŠ¨çš„ Cosmos é“¾ï¼š

- RPC ç«¯ç‚¹: `http://localhost:26657`
- REST ç«¯ç‚¹: `http://localhost:1317`
- æ°´é¾™å¤´ç«¯ç‚¹: `http://localhost:4500`
- é“¾ ID: `aaa`ï¼ˆæ ¹æ®ä½ çš„é“¾é…ç½®è°ƒæ•´ï¼‰

å¦‚éœ€ä¿®æ”¹ç½‘ç»œé…ç½®ï¼Œè¯·ç¼–è¾‘ `src/config/network.ts` æ–‡ä»¶ï¼š

```typescript
export const CHAIN_CONFIG: ChainInfo = {
  chainId: 'your-chain-id',
  rpcEndpoint: 'http://localhost:26657',
  restEndpoint: 'http://localhost:1317',
  faucetEndpoint: 'http://localhost:4500'  // æ°´é¾™å¤´ç«¯ç‚¹
};
```

### æ°´é¾™å¤´ API é…ç½®

æ°´é¾™å¤´åŠŸèƒ½æ”¯æŒå¤šç§å¸¸è§çš„ API æ ¼å¼ï¼š

1. **POST /credit** - æ ‡å‡†æ ¼å¼
```json
{
  "address": "cosmos1...",
  "denom": "stake",
  "amount": "10000000"
}
```

2. **POST /faucet** - ç®€åŒ–æ ¼å¼
```json
{
  "address": "cosmos1..."
}
```

3. **GET å‚æ•°æ ¼å¼**
```
/faucet?address=cosmos1...&denom=stake
```

4. **POST /request** - Cosmos æ ‡å‡†æ ¼å¼
```json
{
  "address": "cosmos1...",
  "coins": ["10000000stake"]
}
```

### æµ‹è¯•è´¦æˆ·

é¡¹ç›®åŒ…å«ä»¥ä¸‹æµ‹è¯•è´¦æˆ·ä¿¡æ¯ï¼ˆæ¥è‡ª Ignite å¯åŠ¨ä¿¡æ¯ï¼‰ï¼š
- Alice: `cosmos129t9tm3kd5ju9dgmdt5hp0mcm3wncann2arvl5`
- Bob: `cosmos19hf4pd460t6s399pz0q5wthtzzkpl9v5reay47`

## ğŸ“š ä¸»è¦åŠŸèƒ½ä½¿ç”¨è¯´æ˜

### 1. é“¾ä¿¡æ¯æŸ¥çœ‹
- å®æ—¶æ˜¾ç¤ºå½“å‰åŒºå—é«˜åº¦
- æŸ¥çœ‹æœ€æ–°åŒºå—ä¿¡æ¯
- æ˜¾ç¤ºç½‘ç»œè¿æ¥çŠ¶æ€
- è‡ªåŠ¨æ¯5ç§’åˆ·æ–°æ•°æ®

### 2. é’±åŒ…ç®¡ç†
- **åˆ›å»ºé’±åŒ…**ï¼šç”Ÿæˆæ–°çš„é’±åŒ…åœ°å€å’ŒåŠ©è®°è¯
- **å¯¼å…¥é’±åŒ…**ï¼šé€šè¿‡12æˆ–24ä¸ªå•è¯çš„åŠ©è®°è¯å¯¼å…¥ç°æœ‰é’±åŒ…
- **é’±åŒ…åˆ‡æ¢**ï¼šæ”¯æŒå¤šé’±åŒ…ç®¡ç†å’Œåˆ‡æ¢
- **æœ¬åœ°å­˜å‚¨**ï¼šé’±åŒ…ä¿¡æ¯å®‰å…¨å­˜å‚¨åœ¨æµè§ˆå™¨æœ¬åœ°
- **é›†æˆæ°´é¾™å¤´**ï¼šåˆ›å»ºé’±åŒ…åå¯ç›´æ¥è·å–æµ‹è¯•ä»£å¸

### 3. ğŸ’§ æ°´é¾™å¤´åŠŸèƒ½
- **è‡ªåŠ¨æ£€æµ‹**ï¼šè‡ªåŠ¨æ£€æµ‹æ°´é¾™å¤´æœåŠ¡çŠ¶æ€
- **å¿«é€Ÿè·å–**ï¼šä¸€é”®è·å–å¸¸ç”¨æ•°é‡çš„æµ‹è¯•ä»£å¸
- **è‡ªå®šä¹‰è¯·æ±‚**ï¼šæ”¯æŒè‡ªå®šä¹‰ä»£å¸ç±»å‹å’Œæ•°é‡
- **å¤šç§ä»£å¸**ï¼šæ”¯æŒ stakeã€tokenã€uatomã€ucosm ç­‰
- **æ™ºèƒ½æç¤º**ï¼šæä¾›è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’ŒçŠ¶æ€åé¦ˆ
- **è‡ªåŠ¨åˆ·æ–°**ï¼šè·å–ä»£å¸åè‡ªåŠ¨åˆ·æ–°é’±åŒ…ä½™é¢

#### æ°´é¾™å¤´ä½¿ç”¨æ–¹æ³•ï¼š
1. åˆ›å»ºæˆ–é€‰æ‹©é’±åŒ…
2. ç‚¹å‡»"æ°´é¾™å¤´"æ ‡ç­¾é¡µ
3. é€‰æ‹©å¿«é€Ÿè·å–æŒ‰é’®æˆ–è‡ªå®šä¹‰æ•°é‡
4. ç­‰å¾…ä»£å¸å‘æ”¾ï¼ˆé€šå¸¸å‡ ç§’é’Ÿï¼‰
5. ä½™é¢ä¼šè‡ªåŠ¨æ›´æ–°

### 4. ä½™é¢æŸ¥è¯¢
- æŸ¥çœ‹å½“å‰é’±åŒ…çš„æ‰€æœ‰ä»£å¸ä½™é¢
- æ”¯æŒå¤šç§ä»£å¸æ˜¾ç¤º
- ä¸€é”®åˆ·æ–°ä½™é¢ä¿¡æ¯

### 5. è½¬è´¦åŠŸèƒ½
- å‘æŒ‡å®š Cosmos åœ°å€è½¬è´¦
- å®æ—¶ä½™é¢éªŒè¯
- è‡ªåŠ¨è®¡ç®—æ‰‹ç»­è´¹
- æ”¯æŒæ·»åŠ äº¤æ˜“å¤‡æ³¨
- å¿«é€Ÿå¡«å…¥æµ‹è¯•åœ°å€åŠŸèƒ½

### 6. æ•°æ®æŸ¥è¯¢
- **åŒºå—æŸ¥è¯¢**ï¼šé€šè¿‡åŒºå—é«˜åº¦æŸ¥çœ‹åŒºå—è¯¦æƒ…
- **äº¤æ˜“æŸ¥è¯¢**ï¼šé€šè¿‡äº¤æ˜“å“ˆå¸ŒæŸ¥çœ‹äº¤æ˜“ä¿¡æ¯
- **ä½™é¢æŸ¥è¯¢**ï¼šæŸ¥çœ‹ä»»æ„åœ°å€çš„ä»£å¸ä½™é¢

## ğŸ” å®‰å…¨è¯´æ˜

- åŠ©è®°è¯å’Œç§é’¥ä»…å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨
- è¯·å¦¥å–„ä¿ç®¡ä½ çš„åŠ©è®°è¯ï¼Œè¿™æ˜¯æ¢å¤é’±åŒ…çš„å”¯ä¸€æ–¹å¼
- ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨æµ‹è¯•åŠ©è®°è¯
- å»ºè®®åœ¨æµ‹è¯•ç½‘ç»œä¸Šè¿›è¡ŒåŠŸèƒ½æµ‹è¯•
- æ°´é¾™å¤´åŠŸèƒ½ä»…é™æµ‹è¯•ç¯å¢ƒä½¿ç”¨

## âš ï¸ å¸¸è§é—®é¢˜

### 1. Buffer is not defined é”™è¯¯
å¦‚æœé‡åˆ° "Buffer is not defined" é”™è¯¯ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤è§£å†³ï¼š

```bash
# æ¸…ç†æ‰€æœ‰ç¼“å­˜
rm -rf node_modules package-lock.json yarn.lock .vite

# é‡æ–°å®‰è£…ä¾èµ–
npm install

# é‡å¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

é¡¹ç›®å·²é…ç½®äº† Buffer polyfillï¼ŒåŒ…æ‹¬ï¼š
- Vite é…ç½®ä¸­çš„ alias æ˜ å°„
- å…¨å±€ Buffer å¯¹è±¡æ³¨å…¥
- TypeScript ç±»å‹å£°æ˜

### 2. æ°´é¾™å¤´æ— æ³•ä½¿ç”¨
å¦‚æœæ°´é¾™å¤´åŠŸèƒ½ä¸å¯ç”¨ï¼Œè¯·æ£€æŸ¥ï¼š

```bash
# æ£€æŸ¥æ°´é¾™å¤´ç«¯ç‚¹æ˜¯å¦å¯è®¿é—®
curl http://localhost:4500

# æ£€æŸ¥ Ignite æ˜¯å¦å¯ç”¨äº†æ°´é¾™å¤´
ignite chain serve --verbose
```

**å¸¸è§æ°´é¾™å¤´ API æ ¼å¼**ï¼š
- Ignite é»˜è®¤: `POST http://localhost:4500/credit`
- æŸäº›é“¾: `GET http://localhost:4500?address=cosmos1...`
- è‡ªå®šä¹‰: æ£€æŸ¥é“¾çš„æ–‡æ¡£è¯´æ˜

### 3. è¿æ¥å¤±è´¥
å¦‚æœé‡åˆ°è¿æ¥é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
- Ignite é“¾æ˜¯å¦æ­£åœ¨è¿è¡Œ
- ç«¯å£æ˜¯å¦è¢«å…¶ä»–ç¨‹åºå ç”¨
- ç½‘ç»œé…ç½®æ˜¯å¦æ­£ç¡®

### 4. è½¬è´¦å¤±è´¥
è½¬è´¦å¤±è´¥å¯èƒ½çš„åŸå› ï¼š
- ä½™é¢ä¸è¶³
- æ— æ•ˆçš„æ¥æ”¶åœ°å€
- ç½‘ç»œè¿æ¥é—®é¢˜
- æ‰‹ç»­è´¹ä¸è¶³

### 5. CosmJS ç‰ˆæœ¬é—®é¢˜
å¦‚æœé‡åˆ° CosmJS ç›¸å…³é”™è¯¯ï¼š
```bash
# æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install
```

### 6. å¼€å‘ç¯å¢ƒé—®é¢˜
å¦‚æœå¼€å‘ç¯å¢ƒå‡ºç°é—®é¢˜ï¼š
```bash
# æ¸…ç† Vite ç¼“å­˜
rm -rf .vite

# é‡å¯å¼€å‘æœåŠ¡å™¨
npm run dev
```

## ğŸ›  æ°´é¾™å¤´é›†æˆæŒ‡å—

### ä¸ºä½ çš„ Cosmos é“¾æ·»åŠ æ°´é¾™å¤´

1. **ä½¿ç”¨ Ignite å†…ç½®æ°´é¾™å¤´**ï¼š
```bash
# Ignite é»˜è®¤å¯ç”¨æ°´é¾™å¤´åœ¨ç«¯å£ 4500
ignite chain serve
```

2. **è‡ªå®šä¹‰æ°´é¾™å¤´æœåŠ¡**ï¼š
```javascript
// ç¤ºä¾‹ Express.js æ°´é¾™å¤´æœåŠ¡
app.post('/credit', async (req, res) => {
  const { address, denom, amount } = req.body;
  
  // å‘é€ä»£å¸åˆ°æŒ‡å®šåœ°å€
  const result = await sendTokens(address, amount, denom);
  
  res.json({
    success: true,
    txhash: result.transactionHash
  });
});
```

3. **é…ç½®å‰ç«¯è¿æ¥**ï¼š
```typescript
// åœ¨ src/config/network.ts ä¸­è®¾ç½®
export const CHAIN_CONFIG: ChainInfo = {
  chainId: 'your-chain',
  rpcEndpoint: 'http://localhost:26657',
  restEndpoint: 'http://localhost:1317',
  faucetEndpoint: 'http://localhost:4500'  // ä½ çš„æ°´é¾™å¤´ç«¯ç‚¹
};
```

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.2.0 (2025-08-20)
- âœ… æ–°å¢æ°´é¾™å¤´åŠŸèƒ½
- âœ… æ”¯æŒå¤šç§æ°´é¾™å¤´ API æ ¼å¼
- âœ… è‡ªåŠ¨æ£€æµ‹æ°´é¾™å¤´æœåŠ¡çŠ¶æ€
- âœ… é›†æˆé’±åŒ…ç®¡ç†ä¸­çš„å¿«é€Ÿè·å–åŠŸèƒ½
- âœ… ç‹¬ç«‹çš„æ°´é¾™å¤´ç•Œé¢
- âœ… æ™ºèƒ½ä½™é¢åˆ·æ–°

### v1.1.0 (2025-08-20)
- âœ… ä¿®å¤ Buffer is not defined é”™è¯¯
- âœ… æ·»åŠ å®Œæ•´çš„ polyfills æ”¯æŒ
- âœ… ä¼˜åŒ–æµè§ˆå™¨å…¼å®¹æ€§
- âœ… å®Œå–„é”™è¯¯å¤„ç†

### v1.0.0 (2025-08-20)
- âœ… åŸºç¡€é“¾ä¿¡æ¯æŸ¥çœ‹åŠŸèƒ½
- âœ… é’±åŒ…åˆ›å»ºå’Œå¯¼å…¥åŠŸèƒ½
- âœ… è½¬è´¦åŠŸèƒ½
- âœ… æ•°æ®æŸ¥è¯¢åŠŸèƒ½
- âœ… å“åº”å¼UIè®¾è®¡
- âœ… ä¸­æ–‡ç•Œé¢
- ğŸ› ä¿®å¤ StargateClient è¿æ¥é—®é¢˜

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·åˆ›å»º Issue æˆ–è”ç³»é¡¹ç›®ç»´æŠ¤è€…ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Cosmos å®˜ç½‘](https://cosmos.network/)
- [CosmJS æ–‡æ¡£](https://github.com/cosmos/cosmjs)
- [Ignite CLI æ–‡æ¡£](https://docs.ignite.com/)
- [React å®˜æ–¹æ–‡æ¡£](https://reactjs.org/)
- [Zustand çŠ¶æ€ç®¡ç†](https://github.com/pmndrs/zustand)