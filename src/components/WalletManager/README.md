# WalletManager 组件

钱包管理组件，提供完整的钱包操作功能，包括创建、导入、选择钱包以及余额查询和水龙头功能。

## 📂 文件说明

### WalletManager.tsx
主要的钱包管理组件，提供以下核心功能：

**钱包操作：**
- ✨ **创建钱包**: 生成新的助记词和地址
- 📥 **导入钱包**: 通过助记词导入现有钱包
- 🔄 **切换钱包**: 在多个钱包间切换
- 📋 **地址复制**: 一键复制钱包地址

**余额管理：**
- 💰 **余额查询**: 实时获取钱包余额
- 🔄 **余额刷新**: 手动刷新余额信息
- 📊 **多代币支持**: 显示不同代币的余额

**水龙头功能：**
- 💧 **获取测试币**: 从水龙头获取 stake 和 token 代币
- 📡 **状态检查**: 检查水龙头服务可用性
- ✅ **成功提示**: 显示获取成功的反馈信息

**用户界面：**
- 🎨 **模态框**: 创建和导入钱包的弹窗界面
- 📱 **响应式**: 适配不同设备屏幕
- 🚨 **错误处理**: 友好的错误信息展示

### WalletManager.css
组件样式文件，包含：

**布局设计：**
- 钱包管理器主容器布局
- 响应式网格系统
- 模态框和弹窗样式

**交互元素：**
- 按钮样式（创建、导入、复制等）
- 钱包列表项样式
- 余额显示卡片

**状态视觉：**
- 当前钱包高亮显示
- 加载状态动画
- 成功/错误消息样式

## 🔧 核心功能实现

### 钱包状态管理
```typescript
const {
  currentWallet,     // 当前选中的钱包
  wallets,          // 所有钱包列表
  balances,         // 余额信息
  isLoading,        // 加载状态
  error,            // 错误信息
  faucetStatus,     // 水龙头状态
  // ... 操作方法
} = useWalletStore();
```

### 创建钱包流程
1. 用户点击"创建钱包"按钮
2. 弹出确认模态框
3. 调用 `createWallet()` 生成新钱包
4. 显示助记词和地址供保存
5. 可选择立即获取测试代币

### 导入钱包流程
1. 用户点击"导入钱包"按钮
2. 输入12或24个单词的助记词
3. 验证助记词格式
4. 调用 `importWallet()` 导入钱包
5. 自动加载余额信息

### 余额格式化
```typescript
const formatBalance = (amount: string, denom: string) => {
  const value = parseInt(amount) / 1000000; // 转换微单位
  return `${value.toLocaleString()} ${denom}`;
};
```

## 🎯 用户交互流程

### 创建新钱包
1. **触发**: 点击"创建钱包"按钮
2. **确认**: 阅读安全提示并确认
3. **生成**: 系统生成新的助记词和地址
4. **保存**: 用户复制并安全保存助记词
5. **获取代币**: 可选择立即从水龙头获取测试代币

### 导入现有钱包
1. **输入**: 在文本框中输入助记词
2. **验证**: 系统验证助记词格式
3. **导入**: 恢复钱包并生成地址
4. **加载**: 自动获取余额信息

### 水龙头操作
1. **检查状态**: 确认水龙头服务可用
2. **选择代币**: 选择要获取的代币类型
3. **发送请求**: 向水龙头服务发送请求
4. **等待确认**: 显示交易状态
5. **更新余额**: 自动刷新钱包余额

## 🔒 安全特性

### 本地存储
- 钱包信息存储在浏览器本地存储
- 助记词仅在创建时显示一次
- 提供复制功能但不主动记录

### 数据保护
- 助记词输入验证
- 错误处理和用户提示
- 防止重复操作的按钮禁用

### 用户提醒
- 明确的安全警告信息
- 助记词保存重要性提示
- 测试环境使用说明

## 📱 响应式特性

**桌面端：**
- 完整的多列布局
- 悬停效果和工具提示
- 大按钮和宽松间距

**移动端：**
- 堆叠式布局
- 触摸友好的按钮尺寸
- 简化的操作流程

**平板端：**
- 适中的布局密度
- 优化的模态框尺寸
- 平衡的视觉层次

## 🔄 状态同步

### 本地存储同步
- 钱包列表自动保存到 localStorage
- 页面刷新后自动恢复钱包状态
- 跨浏览器标签页状态同步

### 余额更新机制
- 切换钱包时自动获取余额
- 提供手动刷新功能
- 水龙头操作后自动更新

## ⚡ 性能优化

- **懒加载**: 只在需要时获取余额
- **缓存机制**: 避免重复的网络请求
- **防抖处理**: 防止频繁的用户操作
- **内存清理**: 及时清理事件监听器

## 🚨 错误处理

- **网络错误**: 处理 RPC 连接失败
- **格式错误**: 验证助记词格式
- **权限错误**: 处理水龙头限制
- **用户友好**: 提供清晰的错误信息和解决建议
